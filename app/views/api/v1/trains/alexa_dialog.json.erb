{
  "version": "1.0",
  "shouldEndSession": false,
  "sessionAttributes": {},
  "response": {
    "outputSpeech": {
      "type": "SSML",
      "ssml": "<%= raw @payload[:response][:ssml] %>"
    },
    "directives": [
      {
        "type": "Dialog.ElicitSlot",
        "slotToElicit": "<%= raw @payload[:response][:slot_to_elicit] %>",
        "updatedIntent": {
          "name": "StopDirect",
          "confirmationStatus": "NONE",
          "slots": {
            "stop_id": {
              "name": "stop_id",
              "confirmationStatus": "NONE"
              <% if @payload[:response][:slots][:stop_id].present? %>
                , "value": "<%= raw @payload[:response][:slots][:stop_id] %>"
              <% end %>
            },
            "direction": {
              "name": "direction",
              "confirmationStatus": "NONE"
              <% if @payload[:response][:slots][:direction].present? %>
                , "value": "<%= raw @payload[:response][:slots][:direction] %>"
              <% end %>
            }
          }
        }
      }
    ]
  }
}
